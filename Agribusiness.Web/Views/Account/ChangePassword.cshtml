@model Agribusiness.Web.Models.ChangePasswordModel

@{
    ViewBag.Title = "Change Password";
    var site = ViewData["site"] as string;
}

<h2>Change Password</h2>
<p>
    Use the form below to change your password. 
</p>
<p>
    New passwords are required to be a minimum of @ViewBag.PasswordLength characters in length.
</p>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm("ChangePassword", "Account", FormMethod.Post, new {@class="form-horizontal"})) {
    
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "Password change was unsuccessful. Please correct the errors and try again.")
    @Html.Hidden("site", site)
    
    <div class="control-group">
        <fieldset>
            <legend>Account Information</legend>
            
            <div class="control-group">
                <label for="OldPassword" class="control-label">Current Password</label>
                <div class="controls">
                    @Html.EditorFor(model => model.OldPassword)
                    @Html.ValidationMessageFor(model => model.OldPassword)
                </div>
            </div>
            <div class="control-group">
                <label for="NewPassword" class="control-label">New Password</label>
                <div class="controls">
                    @Html.EditorFor(model => model.NewPassword)
                    @Html.ValidationMessageFor(model => model.NewPassword)
                </div>
            </div>
            <div class="control-group">
                <label for="ConfirmPassword" class="control-label">Confirm New Password</label>
                <div class="controls">
                    @Html.EditorFor(model => model.ConfirmPassword)
                    @Html.ValidationMessageFor(model => model.ConfirmPassword)
                </div>
            </div>
        </fieldset>
    </div>
    <div class="form-actions">
        <input type="submit" value="Change Password" class="btn btn-primary"/>
        @Html.ActionLink("Cancel", "Edit", "Person", new {}, new {@class="btn"})
    </div>
    
}
