@model InformationRequestViewModel
@{
    ViewBag.Title = "Edit Information Request";
    ViewBag.SubPageTitle = "Edit Information Request";
}

@section SubPageNavigation
{
	<ul class="nav nav-pills">
		<li>@Html.ActionLink("Add Note", "AddNote", new { id = Model.InformationRequest.Id })</li>
		<li>@Html.ActionLink("Create User", "CreatePerson", new { id = Model.InformationRequest.Id })</li>
		<li>@Html.ActionLink("Back to List", "Index")</li>
	</ul>
}

@section ScriptContent
{
}

@Html.ValidationSummary()

@using (Html.BeginForm("Edit", "InformationRequest", FormMethod.Post, new { @class = "form-horizontal" }))
{
	@Html.AntiForgeryToken()
	@Html.HiddenFor(model => model.InformationRequest.Id)

	<div class="control-group">
		<fieldset>
			<div class="control-group">
				<label class="control-label" for="Name">
					Name
					<span class="required">*</span> 
				</label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Name)
					@Html.ValidationMessageFor(model => model.InformationRequest.Name)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Title">Title<span class="required">*</span> </label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Title)
					@Html.ValidationMessageFor(model => model.InformationRequest.Title)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Company">Company<span class="required">*</span> </label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Company)
					@Html.ValidationMessageFor(model => model.InformationRequest.Company)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Email">Email<span class="required">*</span> </label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Email)
					@Html.ValidationMessageFor(model => model.InformationRequest.Email)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Commodity">Commodity<span class="required">*</span> </label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Commodity)
					@Html.ValidationMessageFor(model => model.InformationRequest.Commodity)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Location">Location<span class="required">*</span> </label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Location)
					@Html.ValidationMessageFor(model => model.InformationRequest.Location)
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="SubmittedDateTime">Submitted DateTime</label> 
				<div class="controls">
					@Model.InformationRequest.SubmittedDateTime
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="Responded">Responded</label>
				<div class="controls">
					@Html.EditorFor(model => model.InformationRequest.Responded)
					@Html.ValidationMessageFor(model => model.InformationRequest.Responded)
				</div>
			</div>
		</fieldset>
	</div>   	
	<div class="form-actions">
		<input type="submit" value="Save" class="btn btn-primary" /> 
		@Html.ActionLink("Cancel", "Index", new { }, new { @class = "btn" })
	</div>
}

@if (Model.InformationRequest.InformationRequestNotes.Any())
{
	<table class="table table-striped">
	
		<thead>
			<tr>
				<th>User</th>
				<th>Date/Time</th>
				<th>Notes</th>
			</tr>
		</thead>
		<tbody>
        @foreach (var a in Model.InformationRequest.InformationRequestNotes)
        {
            <tr>
                <td>@a.NoteBy</td>
                <td>@a.DateTimeNote.ToString("g")</td>
                <td>@a.Notes</td>
            </tr>
        }
		</tbody>

	</table>    
}



