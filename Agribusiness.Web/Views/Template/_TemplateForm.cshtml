@model Agribusiness.Web.Models.TemplateViewModel

@using (Html.BeginForm()) {
	@Html.AntiForgeryToken()
	@Html.ValidationSummary(true)
    <fieldset>
    @* Legend is required if you have more than one widget/unit to help the user understand what is being asked of them.
    Example: Dinosaur 1  *@
	<legend>Template</legend>
	@*<h4>Form Header</h4>*@
	@*<p>Be specific so the user understands what exactly you are looking for.  Example: After Dinosaur 1 moves out of his/her parents' den what will Dinosaur 1 do?  We need to know his employment plan, feeding area, as well as living situation.  This information will not be sold or given to carnivores.</p>*@
	<p>All required fields are in <strong>bold</strong> and have a red <span class="required">*</span> next to the field label.</p>
	<ul>

        <li>
            <div class="editor-label required">
                @Html.LabelFor(model => model.Template.NotificationType)
                <span>*</span>
            </div>
            <div class="editor-field">
                @this.Select("Template.NotificationType").Options(Model.NotificationTypes, x=>x.Id, x=>x.Name).FirstOption("--Select a Notification Type--").Selected(Model.Template.NotificationType != null ? Model.Template.NotificationType.Id : string.Empty)
            </div>
        </li>

		<li>
			<div class="editor-label required">
				@Html.LabelFor(model => model.Template.BodyText) 
                <span>*</span>
			</div>
			<div class="editor-field">
				@Html.TextAreaFor(model => model.Template.BodyText)
				@Html.ValidationMessageFor(model => model.Template.BodyText)
			</div>
		</li>

		<li>
            <div class="editor-label">&nbsp;</div>
            <div class="editor-field">
			<input class="button" type="submit" value="Create" /> | @Html.ActionLink("Cancel", "Index")
            </div>
		</li>
	</ul>
	</fieldset>
}


<script type="text/javascript" src='@Url.Script("tiny_mce/jquery.tinymce.js")'></script>

<script type="text/javascript">
    $(function () { 
        $("#Template_BodyText").tinymce({
            script_url: '@Url.Script("tiny_mce/tiny_mce.js")',
            width: "500",

            // General options
            theme : "advanced",
            plugins : "pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",

            // Theme options
            theme_advanced_buttons1 : "bold,italic,underline,|,bullist,numlist,|,search,replace,|,preview,|,forecolor,backcolor",
            theme_advanced_buttons2 : "",
            theme_advanced_buttons3 : "",
            theme_advanced_toolbar_location : "top",
            theme_advanced_toolbar_align : "left",
            theme_advanced_statusbar_location : "bottom",
            theme_advanced_resizing : false,
        });
    });
</script>