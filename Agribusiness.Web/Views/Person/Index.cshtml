@model PersonListViewModel

@{
    ViewBag.Title = "People";
    ViewBag.SubPageTitle = "People";
    ViewBag.PublicProfile = false;
}

@section SubPageNavigation
{
    <ul class="nav nav-pills">
        <li>@Html.ActionLink("Create New", "Create")</li>
    </ul>
}

@section ScriptContent
{
    @Html.Partial("_DataTables")
    <style type="text/css">
        .tab-content { overflow: visible;}
    </style>
}

<ul class="nav nav-tabs">
    <li class="active"><a href="#current" data-toggle="tab">Current Seminar</a></li>
    <li><a href="#master" data-toggle="tab">Master List</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="current">
        <table class="default_table table table-striped table-bordered">
            <thead>
                <tr>
                    <th></th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Title</th>
                    <th>Firm</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var person in Model.People.Where(a => a.Seminar == Model.Seminar))
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("AdminEdit", new {id = person.Person.User.Id, seminarId = person.Seminar.Id, allList = true})" class="btn hastip" rel="tooltip" title="Edit"><i class="icon-pencil"></i></a>
                            <a href="#" class="btn hastip" rel="tooltip" title="Contact Card"><i class="icon-file"></i></a>
                            <a href="#" class="btn hastip" rel="tooltip" title="+ Mailingn List"><i class="icon-envelope"></i></a>
                        </td>
                        <td>@person.Person.FirstName</td>
                        <td>@person.Person.LastName</td>
                        <td>@person.Title</td>
                        <td>@person.Firm</td>
                        <td>
                            @if (person.Registered)
                            {
                                <span class="label label-success">Registered</span>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="master">
        <table class="default_table table table-striped table-bordered">
            <thead>
                <tr>
                    <th></th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Title</th>
                    <th>Firm</th>
                    <th>Last Seminar</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var person in Model.People)
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("AdminEdit", new {id = person.Person.User.Id, allList = true})" class="btn hastip" rel="tooltip" title="Edit"><i class="icon-pencil"></i></a>
                            <a href="#" class="btn hastip" rel="tooltip" title="Contact Card"><i class="icon-file"></i></a>
                        </td>
                        <td>@person.Person.FirstName</td>
                        <td>@person.Person.LastName</td>
                        <td>@person.Title</td>
                        <td>@person.Firm</td>
                        <td>@(person.Seminar != null ? person.Seminar.Year.ToString() : string.Empty )</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>




@*<div class="filter-container">

<ul>
    <li>
        <div class="filter-link-container">
        <a href="@Url.Action("Index", new { sortby = "firstname", desc = Model.SortBy == "firstname" && !Model.Desc })">
        
            First Name
            @if (Model.SortBy == "firstname")
            {
                if (Model.Desc)
                {
                    <span class="ui-icon ui-icon-triangle-1-s"></span>
                }
                else
                {
                    <span class="ui-icon ui-icon-triangle-1-n"></span>
                }
            }
            else
            {
                <span class="ui-icon ui-icon-nothing"></span>
            }

        </a>
        </div>
    </li>
    <li>
        <div class="filter-link-container">
        <a href="@Url.Action("Index", new { sortby = "lastname", desc = Model.SortBy == "lastname" && !Model.Desc })">
        
            Last Name
            @if (Model.SortBy == "lastname")
            {
                if (Model.Desc)
                {
                    <span class="ui-icon ui-icon-triangle-1-s"></span>
                }
                else
                {
                    <span class="ui-icon ui-icon-triangle-1-n"></span>
                }
            }
            else
            {
                <span class="ui-icon ui-icon-nothing"></span>
            }

        </a>
        </div>
    </li>
    <li>
        <div class="filter-link-container">
        <a href="@Url.Action("Index", new { sortby = "firm", desc = Model.SortBy == "firm" && !Model.Desc })">
        
            Firm
            @if (Model.SortBy == "firm")
            {
                if (Model.Desc)
                {
                    <span class="ui-icon ui-icon-triangle-1-s"></span>
                }
                else
                {
                    <span class="ui-icon ui-icon-triangle-1-n"></span>
                }
            }
            else
            {
                <span class="ui-icon ui-icon-nothing"></span>
            }

        </a>
        </div>
    </li>
</ul>

<div style="clear:both;"></div>

</div>*@


