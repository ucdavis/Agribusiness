@model PersonListViewModel

@{
    ViewBag.Title = "People";
    ViewBag.SubPageTitle = "People";
}

@section SubPageNavigation
{
    <ul class="navigation">
        <li>@Html.ActionLink("Create New", "Create")</li>
    </ul>
}

@foreach (var a in Model.People.OrderBy(a=>a.Person.LastName))
{ 
    <div class="list-item">
        <div class="list_pic_container">
            <img src='@Url.Action("GetThumbnail", "Person", new { id = a.Person.Id })' alt='string.Format("{0}''s Profile Picture", @a.Person.FullName)' />
        </div>

        <div class="list_information_container">

            @Html.ActionLink(a.Person.FullName, "Details", new { id = a.Person.Id })

        @if(a.Firm != null){
            
            <ul>
                <li class="title">@a.Title</li>
                <li>@a.Firm.Name</li>
                <li class="description">@a.Firm.Description</li>
            </ul>
            
        }else{
            
            <p>No firm has been defined for this person</p>
            
        }
        </div>
    
    <hr class="list-divider" />
    </div>
}